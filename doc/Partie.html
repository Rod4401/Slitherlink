<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Partie - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/navigation.js" defer></script>
<script src="./js/search.js" defer></script>
<script src="./js/search_index.js" defer></script>
<script src="./js/searcher.js" defer></script>
<script src="./js/darkfish.js" defer></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
<div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  <p class="link"><a href="Object.html">Object</a>
</div>

    
    
    
<!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    <li ><a href="#method-c-creer">::creer</a>
    <li ><a href="#method-c-new">::new</a>
    <li ><a href="#method-i-actualiseAffichage">#actualiseAffichage</a>
    <li ><a href="#method-i-arreterPartie">#arreterPartie</a>
    <li ><a href="#method-i-calculerScore">#calculerScore</a>
    <li ><a href="#method-i-connect">#connect</a>
    <li ><a href="#method-i-dejouerCoup">#dejouerCoup</a>
    <li ><a href="#method-i-getCases">#getCases</a>
    <li ><a href="#method-i-getNbCoups">#getNbCoups</a>
    <li ><a href="#method-i-getTemps">#getTemps</a>
    <li ><a href="#method-i-jouerCoup">#jouerCoup</a>
    <li ><a href="#method-i-loadPlateau">#loadPlateau</a>
    <li ><a href="#method-i-raz">#raz</a>
    <li ><a href="#method-i-run">#run</a>
    <li ><a href="#method-i-sauvegardeToi">#sauvegardeToi</a>
    <li ><a href="#method-i-savePlateau">#savePlateau</a>
    <li ><a href="#method-i-stop">#stop</a>
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Partie">
  <h1 id="class-Partie" class="class">
    class Partie
  </h1>

  <section class="description">
    
  </section>

  <section id="5Buntitled-5D" class="documentation-section">



    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      <div id="attribute-i-difficulte" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">difficulte</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>Coding assistant</p>
        </div>
      </div>
      <div id="attribute-i-gestionnairePartie" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">gestionnairePartie</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>Coding assistant</p>
        </div>
      </div>
      <div id="attribute-i-niveau" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">niveau</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>Coding assistant</p>
        </div>
      </div>
      <div id="attribute-i-numero" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">numero</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>Coding assistant</p>
        </div>
      </div>
      <div id="attribute-i-plateau" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">plateau</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        </div>
      </div>
    </section>


     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

      <div id="method-c-creer" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">creer</span><span
            class="method-args">(gestionnairePartie,numPartie,difficulte)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode de classe creer permet d&#39;appeler la méthode new et de rendre cette dernière inutilisable dans le but de rendre le code plus parlant</p>

          <div class="method-source-code" id="creer-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 24</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Partie</span>.<span class="ruby-identifier ruby-title">creer</span>(<span class="ruby-identifier">gestionnairePartie</span>,<span class="ruby-identifier">numPartie</span>,<span class="ruby-identifier">difficulte</span>)
  <span class="ruby-identifier">new</span>(<span class="ruby-identifier">gestionnairePartie</span>,<span class="ruby-identifier">numPartie</span>,<span class="ruby-identifier">difficulte</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-new" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(gestionnairePartie,numPartie,difficulte)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode initialize permet de définir les variables d&#39;instances</p>

          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 32</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">gestionnairePartie</span>,<span class="ruby-identifier">numPartie</span>,<span class="ruby-identifier">difficulte</span>)
  <span class="ruby-comment">#Le gestionnaire qui permet entre autres l&#39;accès à la fenetre</span>
  <span class="ruby-ivar">@gestionnairePartie</span> = <span class="ruby-identifier">gestionnairePartie</span>
  <span class="ruby-ivar">@numero</span> = <span class="ruby-identifier">numPartie</span>
  <span class="ruby-ivar">@difficulte</span> = <span class="ruby-identifier">difficulte</span> <span class="ruby-comment">#easy normal difficile</span>
  <span class="ruby-ivar">@compteurTemps</span> = <span class="ruby-constant">Temps</span>.<span class="ruby-identifier">creer</span>
  <span class="ruby-comment">#puts &quot;Partie créée&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-actualiseAffichage" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">actualiseAffichage</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode actualiseAffichage permet de mettre à jouer l&#39;ensemble des murs du plateau, elle transmet juste le message au plateau</p>

          <div class="method-source-code" id="actualiseAffichage-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 192</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">actualiseAffichage</span> ()
  <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">actualiseAffichage</span>()
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-arreterPartie" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">arreterPartie</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode arreterPartie permet de prévenier le gestionnaire de partie de stopper la partie</p>

          <div class="method-source-code" id="arreterPartie-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">arreterPartie</span>()
  <span class="ruby-ivar">@gestionnairePartie</span>.<span class="ruby-identifier">arreterPartie</span>()
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-calculerScore" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">calculerScore</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode calculerScore permet de renvoyer le score actuel de la partie</p>

          <div class="method-source-code" id="calculerScore-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 202</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">calculerScore</span>()
  <span class="ruby-keyword">return</span> <span class="ruby-value">0</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-connect" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">connect</span><span
            class="method-args">(obj)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode connect permet de conntecter le gestionnaire de partie à la partie</p>

          <div class="method-source-code" id="connect-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 60</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">connect</span>(<span class="ruby-identifier">obj</span>)
  <span class="ruby-ivar">@gestionnairePartie</span>=<span class="ruby-identifier">obj</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-dejouerCoup" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">dejouerCoup</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode dejouerCoup permet de faire dejouer un coup, elle transmet le message au plateau et lance une sauvegarde du platau courant</p>

          <div class="method-source-code" id="dejouerCoup-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 167</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">dejouerCoup</span>()
  <span class="ruby-comment">#Dejoue le coup en coordonnées x;y</span>
  <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">dejouerCoup</span>()
  <span class="ruby-comment">#Lance la sauvegarde du plateau courant</span>
  <span class="ruby-identifier">savePlateau</span>(<span class="ruby-value">0</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-getCases" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">getCases</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode getCases permet de renvoyer la liste des cases du plateau</p>

          <div class="method-source-code" id="getCases-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 70</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">getCases</span>()
  <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">getCases</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-getNbCoups" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">getNbCoups</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode getNbCoups permet de renvoyer le nombre total de coups joués, elle transmet juste le message au plateau</p>

          <div class="method-source-code" id="getNbCoups-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 207</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">getNbCoups</span>()
  <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">getNbCoups</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-getTemps" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">getTemps</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode getTemps permet de renvoyer le temps écoulé en demandant au compteur de temps</p>

          <div class="method-source-code" id="getTemps-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 197</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">getTemps</span>()
  <span class="ruby-ivar">@compteurTemps</span>.<span class="ruby-identifier">getTemps</span>()
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-jouerCoup" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">jouerCoup</span><span
            class="method-args">(x,y)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode jouerCoup permet de faire jouer un coup, elle transmet le message au plateau et lance une sauvegarde du platau courant</p>

          <div class="method-source-code" id="jouerCoup-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 158</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">jouerCoup</span>(<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>)
  <span class="ruby-comment">#puts &quot;je joue #{x} #{y}&quot;</span>
  <span class="ruby-comment">#Joue le coup en coordonnées x;y</span>
  <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">jouerCoup</span>(<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>)
  <span class="ruby-comment">#Lance la sauvegarde du plateau courant</span>
  <span class="ruby-identifier">savePlateau</span>(<span class="ruby-value">0</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-loadPlateau" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">loadPlateau</span><span
            class="method-args">(numero_plateau)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode loadPlateau permet de charger dans le jeu un plateau Notre partie se compose d&#39;un plateau principal (le 0) Et peut charger jusqu&#39;à 3 quicksave qui sont les plateau (1-2-3)</p>

          <div class="method-source-code" id="loadPlateau-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 78</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">loadPlateau</span>(<span class="ruby-identifier">numero_plateau</span>)
  <span class="ruby-comment">##################################</span>
  <span class="ruby-comment"># =&gt; Ouverture du fichier de sauvegarde du plateau</span>
  <span class="ruby-comment"># =&gt; Ex : partie 2 easy de &quot;User&quot; save 0</span>
  <span class="ruby-comment"># =&gt; &quot;../quickSaves/difficulte.User.2.0.save&quot;</span>
  <span class="ruby-comment">##################################</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-comment">#Onverture du fichier correspondant au plateau demandé</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-constant">DIR_QUICKSAVE</span><span class="ruby-node">+&quot;#{@gestionnairePartie.gestionnaire.getProfilActif().name()}.#{@difficulte}.#{@numero}.#{numero_plateau}.save&quot;</span>,<span class="ruby-string">&quot;r&quot;</span>)
    <span class="ruby-comment">#On récupère l&#39;intégralité du fichier</span>
    <span class="ruby-identifier">string</span> = <span class="ruby-identifier">file</span>.<span class="ruby-identifier">read</span>()
    <span class="ruby-comment">#YAML s&#39;occupe de recréer le plateau</span>
    <span class="ruby-ivar">@plateau</span> = <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">string</span>)
    <span class="ruby-comment">#On reconnecte la partie au plateau</span>
    <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">connect</span>(<span class="ruby-keyword">self</span>)
    <span class="ruby-comment">#On ferme de descripteur de fichier</span>
    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-comment">#Si pas réussi à load la 0 alors on charge celui par default</span>
    <span class="ruby-keyword">if</span>(<span class="ruby-identifier">numero_plateau</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>)
      <span class="ruby-comment">#Si la partie veut charger le plateau 0 c&#39;est qu&#39;on souhaite créer un nouvelle partie</span>
      <span class="ruby-comment">#dans le cas où on a pas réussi à trouver le fichier du plateau 0</span>
      <span class="ruby-comment">#puts &quot;Création plateau : &quot;+e.message</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-comment">#puts &quot;Création&quot;</span>
        <span class="ruby-comment">#On créer un nouveau plateau</span>
        <span class="ruby-ivar">@plateau</span> = <span class="ruby-constant">Plateau</span>.<span class="ruby-identifier">creer</span>(<span class="ruby-keyword">self</span>)
      <span class="ruby-keyword">rescue</span>
        <span class="ruby-comment">#Si la création a engendré une erreur alors on génère l&#39;exception PlateauCreationError</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">PlateauCreationError</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment">#Si on souhaite chargé le plateau 1 - 2 - 3 mais qu&#39;il ne trouve pas leur fichier</span>
      <span class="ruby-comment">#c&#39;est qu&#39;on a pas créer de quicksave correspodante donc on ne fait rien</span>
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-comment">#Une fois qu&#39;on a chager le plateau ou créer le plateau 0 on peut reconnecter les Gtk::button</span>
    <span class="ruby-comment">#puts &quot;reloadButton&quot;</span>
    <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">reloadButton</span>()
    <span class="ruby-comment">#On actualise l&#39;affichage pour afficher l&#39;état de chaque mur</span>
    <span class="ruby-ivar">@gestionnairePartie</span>.<span class="ruby-identifier">actualiseAffichage</span>()
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-raz" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">raz</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode raz permet de faire dejouer tous les coups La méthode dejouerCoup renvoie false si aucun coup existe La méthode se contente donc de faire dejouer tant que dejouerCoup renvoie vrai</p>

          <div class="method-source-code" id="raz-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 177</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">raz</span>()
  <span class="ruby-identifier">etat</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">while</span>(<span class="ruby-identifier">etat</span>)
    <span class="ruby-identifier">etat</span> = <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">dejouerCoup</span>()
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment">#Lance la sauvegarde du plateau courant</span>
  <span class="ruby-identifier">savePlateau</span>(<span class="ruby-value">0</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-run" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">run</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode run permet de lancer le compteur de temps Elle permet de lancer une partie</p>

          <div class="method-source-code" id="run-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 47</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">run</span>
  <span class="ruby-ivar">@compteurTemps</span>.<span class="ruby-identifier">run</span>(<span class="ruby-ivar">@gestionnairePartie</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-sauvegardeToi" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">sauvegardeToi</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode sauvegardeToi transmet à la classe compétente c&#39;est-à-dire le gestionnaire de partie de sauvegarder la partie</p>

          <div class="method-source-code" id="sauvegardeToi-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 187</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sauvegardeToi</span>()
  <span class="ruby-ivar">@gestionnairePartie</span>.<span class="ruby-identifier">sauvegardePartie</span>()
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-savePlateau" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">savePlateau</span><span
            class="method-args">(numero_plateau)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode savePlateau permet de sauvegarder un plateau Comme pour la méthode loadPlateau, il y a 4 plateau possibles: 0  =&gt; <a href="Plateau.html"><code>Plateau</code></a> courrant 1-2-3  =&gt; Les 3 quicksaves</p>

          <div class="method-source-code" id="savePlateau-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">savePlateau</span>(<span class="ruby-identifier">numero_plateau</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-comment">#On ouvre le fichier correspodant au plateau (numero_plateau) en écriture</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-constant">DIR_QUICKSAVE</span><span class="ruby-node">+&quot;#{@gestionnairePartie.gestionnaire.getProfilActif().name()}.#{@difficulte}.#{@numero}.#{numero_plateau}.save&quot;</span>,<span class="ruby-string">&quot;w&quot;</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">e</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;Errno::ENOENT&quot;</span>)
    <span class="ruby-comment">#Exception obtenu si le dossier des quicksaves n&#39;éxiste pas</span>
    <span class="ruby-comment">#Création du dossier des quicksaves</span>
    <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">mkdir</span>(<span class="ruby-constant">DIR_QUICKSAVE</span>)
    <span class="ruby-comment">#On ouvre le fichier correspodant au plateau (numero_plateau) en écriture</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-constant">DIR_QUICKSAVE</span><span class="ruby-node">+&quot;#{@gestionnairePartie.gestionnaire.getProfilActif().name()}.#{@difficulte}.#{@numero}.#{numero_plateau}.save&quot;</span>,<span class="ruby-string">&quot;w&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment">#On déconnecte tous les Gtk::Button des murs</span>
  <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">deloadButton</span>()
  <span class="ruby-comment">#On déconnecte la partie du plateau</span>
  <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">connect</span>(<span class="ruby-keyword">nil</span>)
  <span class="ruby-comment">#On demande à yaml de sérialiser</span>
  <span class="ruby-identifier">string</span> = <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">to_yaml</span>
  <span class="ruby-comment">#On reconnecte la partie au plateau</span>
  <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">connect</span>(<span class="ruby-keyword">self</span>)
  <span class="ruby-comment">#On reconnecte tous les Gtk::Button des murs</span>
  <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">reloadButton</span>()
  <span class="ruby-comment">#On écrit dans le fichier le résultat de Marshal</span>
  <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">string</span>)
  <span class="ruby-comment">#On ferme le descripteur de fichier</span>
  <span class="ruby-identifier">file</span>.<span class="ruby-identifier">close</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-stop" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">stop</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>La méthode stop à pour but de stoper une partie Particulièrement elle coupe le thread qui compte le temps (pour éviter un zombie) Et elle decconecte tous les Gtk::button des murs du plateau</p>

          <div class="method-source-code" id="stop-source">
            <pre><span class="ruby-comment"># File src/Partie/Partie.rb, line 54</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">stop</span>
  <span class="ruby-ivar">@compteurTemps</span>.<span class="ruby-identifier">kill</span>
  <span class="ruby-ivar">@plateau</span>.<span class="ruby-identifier">deloadButton</span>()
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.3.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

